<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="/styles/main.css">
        <title>Decklister</title>
    </head>
    <body>
        <!-- Blueprint Grid Overlay -->
        <div class="grid-overlay"></div>

        <!-- Corner Brackets -->
        <div class="corner-brackets">
            <div class="corner-bracket tl"></div>
            <div class="corner-bracket tr"></div>
            <div class="corner-bracket bl"></div>
            <div class="corner-bracket br"></div>
        </div>

        <!-- Connection Line (shown on hover) -->
        <div class="connection-line" id="connectionLine">
            <div class="connection-dot start"></div>
            <div class="connection-dot end"></div>
        </div>

        <!-- Landing Page -->
        <div id="landingPage" class="landing-page">
            <div class="landing-content">
                <h1 class="landing-title">Decklister</h1>
                <p class="landing-subtitle">Create and manage your Magic: The Gathering decklists with ease</p>
                <button id="getStartedBtn" class="landing-cta">Get Started</button>
            </div>
        </div>

        <!-- Desktop Header -->
        <header id="desktopHeader" class="desktop-header">
            <a href="/" id="logoLink" class="logo-link">
                <h1 class="header-title">Decklister</h1>
            </a>
            <div id="bookmarkWarning" class="bookmark-warning">
                <svg class="warning-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                <span>Bookmark this page to save your decks!</span>
            </div>
        </header>

        <!-- Mobile Header -->
        <header class="mobile-header">
            <a href="/" id="mobileLogoLink" class="logo-link">
                <h1 class="mobile-title">Decklister</h1>
            </a>
            <button id="mobileMenuBtn" class="mobile-menu-btn" aria-label="Open deck menu">
                <svg class="menu-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 6h16M4 12h16M4 18h16"/>
                </svg>
            </button>
        </header>

        <!-- Mobile Deck Dropdown -->
        <div id="mobileDropdown" class="mobile-dropdown">
            <div id="mobileDecks" class="mobile-decks-list"></div>
        </div>

        <!-- Sidebar Expand Button (visible when sidebar collapsed) -->
        <button id="sidebarExpand" class="sidebar-expand" aria-label="Expand sidebar">
            <svg class="expand-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 18l6-6-6-6"/>
            </svg>
        </button>

        <!-- App Container (sidebar + main content) -->
        <div id="appContainer" class="app-container">
            <!-- Desktop Sidebar -->
            <aside id="sidebar" class="sidebar">
                <button id="sidebarToggle" class="sidebar-toggle" aria-label="Toggle sidebar">
                    <svg class="toggle-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 18l-6-6 6-6"/>
                    </svg>
                </button>
                <div id="decks" class="scrollable deck-list"></div>
                <!-- Resize handle on sidebar right edge -->
                <div id="sidebarResizer" class="resize-handle sidebar-resizer"></div>
            </aside>

            <!-- Main Content Area -->
            <main id="mainContent" class="main-content">
                <div id="syncScroll" class="scrollable editor-container">
                    <div class="editor-wrapper">
                        <textarea spellcheck="false" id="editor" class="editor-textarea" placeholder="Start typing here to create a new deck. The first line is the title&#13;&#10;&#13;&#10;Card links will appear to the right as you type. Click a link to open the card's scryfall page or just hover over it to see the card&#13;&#10;&#13;&#10;You can add section headers like #header and card quantities like '4x Rat'"></textarea>
                        <!-- Autocomplete Dropdown -->
                        <div id="autocompleteContainer" class="autocomplete-container">
                            <ul id="autocompleteList" class="autocomplete-list"></ul>
                        </div>
                    </div>
                    <!-- Resize handle for editor/card-links -->
                    <div id="editorResizer" class="resize-handle editor-resizer"></div>
                    <span id="hovers" class="card-links"></span>
                </div>
                <!-- Resize handle for card-display -->
                <div id="displayResizer" class="resize-handle display-resizer"></div>
                <div id="display" class="card-display">
                    <div class="empty-state" id="emptyState">
                        <div class="empty-state-icon">â¬¡</div>
                        <div>Hover card to display</div>
                    </div>
                    <div class="card-preview-container" id="cardPreviewContainer">
                        <div class="blueprint-lines">
                            <div class="blueprint-line horizontal top"></div>
                            <div class="blueprint-line horizontal bottom"></div>
                            <div class="blueprint-line vertical left"></div>
                            <div class="blueprint-line vertical right"></div>
                        </div>
                        <div id="cardImagesContainer"></div>
                    </div>
                </div>
            </main>
        </div>

        <!-- Mobile Render Toggle Button -->
        <button id="renderToggle" class="render-toggle" aria-label="Toggle render view">
            <svg class="render-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="7" height="7" rx="1"/>
                <rect x="14" y="3" width="7" height="7" rx="1"/>
                <rect x="3" y="14" width="7" height="7" rx="1"/>
                <rect x="14" y="14" width="7" height="7" rx="1"/>
            </svg>
        </button>

        <!-- Share Modal -->
        <div id="shareModal" class="share-modal">
            <div class="share-modal-content">
                <button id="closeShareModal" class="share-modal-close" aria-label="Close modal">&times;</button>
                <h2>Share Deck</h2>
                <p>Copy this link to share your deck:</p>
                <div class="share-url-container">
                    <input type="text" id="shareUrl" class="share-url-input" readonly>
                    <button id="copyShareBtn" class="copy-share-btn">Copy</button>
                </div>
            </div>
        </div>
    </body>
    <script type="module" src="/js/main.js"></script>
</html>
